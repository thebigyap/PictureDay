<UserControl x:Class="PictureDay.Views.SettingsView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             mc:Ignorable="d"
             d:DesignHeight="450" d:DesignWidth="800">
    <Grid Margin="20" Background="{DynamicResource BackgroundBrush}">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Privacy Filter Section -->
        <GroupBox Grid.Row="0" Header="Privacy Filter - Blocked Applications" Margin="0,0,0,10">
            <Grid Margin="10">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <TextBlock Grid.Row="0" Text="When these applications are running, screenshots will be blocked."
                           Margin="0,0,0,10" TextWrapping="Wrap"/>

                <ListBox x:Name="BlockedAppsListBox" Grid.Row="1" Height="150" Margin="0,0,0,10"/>

                <StackPanel Grid.Row="2" Orientation="Horizontal">
                    <TextBox x:Name="NewAppTextBox" MinWidth="200" Margin="0,0,5,0"
                             VerticalContentAlignment="Center"/>
                    <Button Content="Add Application" Padding="8,4" Margin="5,0,5,0"
                            Click="AddAppButton_Click"/>
                    <Button Content="Remove Selected" Padding="8,4" Margin="5,0,5,0"
                            Click="RemoveAppButton_Click"/>
                    <Button Content="Browse Running Processes" Padding="8,4" Margin="5,0,0,0"
                            Click="BrowseProcessesButton_Click"/>
                </StackPanel>
            </Grid>
        </GroupBox>

        <!-- Theme Selection -->
        <GroupBox Grid.Row="1" Header="Appearance" Margin="0,0,0,10">
            <StackPanel Margin="10">
                <TextBlock Text="Theme:" Margin="0,0,0,5"/>
                <ComboBox x:Name="ThemeComboBox" SelectionChanged="ThemeComboBox_SelectionChanged">
                    <ComboBoxItem Content="Light" Tag="Light"/>
                    <ComboBoxItem Content="Dark" Tag="Dark"/>
                </ComboBox>
            </StackPanel>
        </GroupBox>

        <!-- Screenshot Schedule -->
        <GroupBox Grid.Row="2" Header="Screenshot Schedule" Margin="0,0,0,10">
            <StackPanel Margin="10">
                <TextBlock Text="Schedule Mode:" Margin="0,0,0,5"/>
                <ComboBox x:Name="ScheduleModeComboBox" Margin="0,0,0,10" SelectionChanged="ScheduleModeComboBox_SelectionChanged">
                    <ComboBoxItem Content="Random Time (9 AM - 9 PM)" Tag="Random"/>
                    <ComboBoxItem Content="Fixed Time" Tag="FixedTime"/>
                    <ComboBoxItem Content="Time Range" Tag="TimeRange"/>
                </ComboBox>

                <StackPanel x:Name="FixedTimePanel" Margin="0,0,0,10" Visibility="Collapsed">
                    <TextBlock Text="Scheduled Time (HH:mm):" Margin="0,0,0,5"/>
                    <TextBox x:Name="FixedTimeTextBox" Height="25" Text="14:00"
                             ToolTip="Enter time in 24-hour format (HH:mm), e.g., 14:00 for 2:00 PM"/>
                </StackPanel>

                <StackPanel x:Name="TimeRangePanel" Margin="0,0,0,10" Visibility="Collapsed">
                    <TextBlock Text="Start Time (HH:mm):" Margin="0,0,0,5"/>
                    <TextBox x:Name="RangeStartTimeTextBox" Height="25" Text="09:00" Margin="0,0,0,10"
                             ToolTip="Enter time in 24-hour format (HH:mm), e.g., 09:00 for 9:00 AM"/>
                    <TextBlock Text="End Time (HH:mm):" Margin="0,0,0,5"/>
                    <TextBox x:Name="RangeEndTimeTextBox" Height="25" Text="21:00"
                             ToolTip="Enter time in 24-hour format (HH:mm), e.g., 21:00 for 9:00 PM"/>
                </StackPanel>
            </StackPanel>
        </GroupBox>

        <!-- Start with Windows -->
        <GroupBox Grid.Row="3" Header="Startup Options" Margin="0,0,0,10">
            <StackPanel Margin="10">
                <CheckBox x:Name="StartWithWindowsCheckBox" Content="Start with Windows"
                          Margin="0,5"/>
            </StackPanel>
        </GroupBox>

        <!-- Monitor Selection -->
        <GroupBox Grid.Row="4" Header="Monitor Selection" Margin="0,0,0,10">
            <StackPanel Margin="10">
                <RadioButton x:Name="PrimaryMonitorRadio" Content="Primary Monitor"
                           Checked="MonitorSelection_Changed" Margin="0,5"/>
                <RadioButton x:Name="AllMonitorsRadio" Content="All Monitors"
                           Checked="MonitorSelection_Changed" Margin="0,5"/>
                <RadioButton x:Name="SpecificMonitorRadio" Content="Specific Monitor:"
                           Checked="MonitorSelection_Changed" Margin="0,5"/>
                <ComboBox x:Name="MonitorComboBox" Height="25" Margin="20,0,0,0"
                         IsEnabled="False" SelectionChanged="MonitorComboBox_SelectionChanged"/>
            </StackPanel>
        </GroupBox>

        <!-- Screenshot Quality & Format -->
        <GroupBox Grid.Row="5" Header="Screenshot Quality &amp; Format" Margin="0,0,0,10">
            <StackPanel Margin="10">
                <TextBlock Text="Image Format:" Margin="0,0,0,5"/>
                <ComboBox x:Name="FormatComboBox" Height="25" Margin="0,0,0,15" SelectionChanged="FormatComboBox_SelectionChanged">
                    <ComboBoxItem Content="JPEG" Tag="JPEG" IsSelected="True"/>
                    <ComboBoxItem Content="PNG" Tag="PNG"/>
                </ComboBox>

                <TextBlock Text="Quality (JPEG only):" Margin="0,0,0,5"/>
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    <Slider x:Name="QualitySlider" Grid.Column="0" Minimum="10" Maximum="100"
                            Value="90" TickFrequency="10" IsSnapToTickEnabled="True"
                            Margin="0,0,10,0" ValueChanged="QualitySlider_ValueChanged"/>
                    <TextBlock x:Name="QualityValueTextBlock" Grid.Column="1"
                             Text="90" Width="40" VerticalAlignment="Center"/>
                </Grid>
            </StackPanel>
        </GroupBox>

        <!-- Screenshot Directory -->
        <GroupBox Grid.Row="6" Header="Screenshot Directory" Margin="0,0,0,10">
            <Grid Margin="10">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <TextBox x:Name="DirectoryTextBox" Grid.Column="0" Height="25"
                         IsReadOnly="True" VerticalContentAlignment="Center" Margin="0,0,5,0"/>
                <Button Grid.Column="1" Content="Browse..." Width="80" Height="25"
                        Click="BrowseDirectoryButton_Click"/>
            </Grid>
        </GroupBox>

        <!-- Buttons -->
        <StackPanel Grid.Row="7" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,10,0,0">
            <Button Content="Save" Padding="15,5" Margin="5,0" Click="SaveButton_Click"/>
            <Button Content="Cancel" Padding="15,5" Margin="5,0" Click="CancelButton_Click"/>
        </StackPanel>
    </Grid>
</UserControl>

